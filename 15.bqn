âŸ¨_split, _fixâŸ© â† â€¢Import "util.bqn"
sensorsâ€¿beacons â† <Ë˜â‰> {2 (â†‘â‹ˆâ†“) â€¢BQNÂ¨ (âŸ¨âŸ©âŠ¸â‰¢Â¨)âŠ¸/ (Â¬ ('-'âˆ¾'0'+â†•10) âˆŠËœ âŠ¢) _split ğ•©}Â¨ â€¢file.Lines "15.input"
distances â† +Â´Â¨ | sensors - beacons
Ranges â† { ğ•Šrow: âˆ§ (â‰¤Â´Â¨)âŠ¸/ distances {dğ•Šxâ€¿y: x (-â‹ˆ+) d - | row - y}Â¨ sensors}
Overlaps â† {aâ€¿bğ•Šxâ€¿y: ((aâ‰¤x)âˆ§(xâ‰¤b))âˆ¨((xâ‰¤a)âˆ§(aâ‰¤y))âˆ¨(1=|b-x)âˆ¨(1=|a-y)}
Merge â† {{ curr ğ•Š acc:
  m â† (<curr) (Overlaps âˆ¨ OverlapsËœ)Â¨ acc
  { âˆ¨Â´ m ? n â† âŠ‘/m, (curr {aâ€¿bğ•Šxâ€¿y:âŸ¨aâŒŠx,bâŒˆyâŸ©} âŠ¢) âŒ¾ (n âŠ‘ âŠ¢) acc ; acc âˆ¾ <curr }
}Â´ ğ•©âˆ¾<âŸ¨âŸ©}

p1 â† (Â¬Â´ âŒ½ âŠ‘ Merge _fix Ranges 2e6) - â‰ â· (2e6 = Â¯1 âŠ‘ âŠ¢)Â¨âŠ¸/ beacons
#{ (1 â‰  â‰  r â† Merge _fix Ranges ğ•©) ? â€¢Show ğ•©â€¿r ; 0=1e5|âŠ‘ğ•© ? â€¢Show ğ•© ; @ }Â¨ â†•1+4e6
p1â€¿11374534948438
