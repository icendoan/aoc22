âŸ¨IntâŸ©â†â€¢Import "util.bqn"
initialâ€¿moves â† (âŠ‘âˆ˜/ 0=â‰ Â¨)âŠ¸(Â¯1âŠ¸+âŠ¸â†‘â‹ˆ1âŠ¸+âŠ¸â†“) â€¢file.Lines "5.input"
stacks â†' 'âŠ¸â‰ âŠ¸/Â¨ <Ë˜âŒ½Ë˜(1+4Ã—â†•âŒˆ4Ã·Ëœâ‰ âŠ‘initial)âŠâ‰>initial
moves â†© 0â€¿1â€¿1 -Ëœâ‰1 IntÂ¨ 1â€¿3â€¿5âŠ¸âŠâŒ¾â‰ >(âŠ¢-ËœÂ¬Ã—+`)âˆ˜(' '=âŠ¢)âŠ¸âŠ”Â¨ moves
Shift â† { sâ€¿flip ğ•Š nâ€¿fromâ€¿to:
 c â† âŒ½âŸflip (-n) â†‘ from âŠ‘ s
 s â†© (c âˆ¾Ëœ âŠ¢) âŒ¾ (toâŠ¸âŠ‘) s
 s â†© ((-n) â†“ âŠ¢) âŒ¾ (fromâŠ¸âŠ‘) s
 sâ€¿flip
}

p1 â† Â¯1 âŠ‘Â¨ âŠ‘ stacksâ€¿1 ShiftËœË âŒ½ moves
p2 â† Â¯1 âŠ‘Â¨ âŠ‘ stacksâ€¿0 ShiftËœË âŒ½ moves
p1â€¿p2
